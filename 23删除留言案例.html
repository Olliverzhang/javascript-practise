<!--
 * @Description: In User Settings Edit
 * @Author: your name
 * @Date: 2019-07-29 10:08:42
 * @LastEditTime: 2019-08-20 17:03:33
 * @LastEditors: Please set LastEditors
 -->
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="">
</head>
<style>
    textarea {
        width: 200px;
        height: 300px;
    }
    li{
        width: 200px;
    }
    li a{
        float:right;
    }
</style>

<body>222
    <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
    <textarea>123</textarea>
    <button>发布</button>
    <ul>

    </ul>
    <script>
        var btn = document.querySelector("button");
        var text = document.querySelector("textarea");
        var ul = document.querySelector("ul");
        btn.onclick = function () {
            if (!text.value) {
                alert("您没有输入任何内容！");
                return false;
            }
            else {
                var li = document.createElement("li");
                li.innerHTML = text.value + "<a href=\"javascript:;\">删除</a>";
                //ul.appendChild(li);
                ul.insertBefore(li, ul.children[0]);
            }
            //以下代码必须嵌套在btn.onclick事件函数中否则不起效果因为 删除操作和onclick操作是相关系的，删除的li是因为点击事件而产生的，是动态的
            var de = document.querySelectorAll("a");
            for (var i = 0; i < de.length; i++) {
                de[i].onclick = function () {
                    ul.removeChild(this.parentNode);//此处的this若改为de[i]则又报错
                }
            }
        }
        
        
    </script>
</body>

</html>